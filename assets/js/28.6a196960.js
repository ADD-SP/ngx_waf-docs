(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{356:function(e,t,o){"use strict";o.r(t);var a=o(25),v=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"cross-version-upgrades"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cross-version-upgrades"}},[e._v("#")]),e._v(" Cross-version Upgrades")]),e._v(" "),t("p",[e._v("To upgrade the module, you need to reinstall it according to the instructions in "),t("RouterLink",{attrs:{to:"/guide/installation.html"}},[e._v("installation guide")]),e._v(".")],1),e._v(" "),t("h2",{attrs:{id:"upgrade-from-9-x-x-to-10-x-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-from-9-x-x-to-10-x-x"}},[e._v("#")]),e._v(" Upgrade from "),t("code",[e._v("9.x.x")]),e._v(" to "),t("code",[e._v("10.x.x")])]),e._v(" "),t("ol",[t("li",[e._v("If you use the directive "),t("code",[e._v("waf_http_status")]),e._v(", replace it with the directive "),t("code",[e._v("waf_action")]),e._v(" according to the documentation.")]),e._v(" "),t("li",[e._v("If you set the parameter "),t("code",[e._v("size")]),e._v(" of the directive "),t("code",[e._v("waf_cc_deny")]),e._v(", you should replace it with the parameter "),t("code",[e._v("zone")]),e._v(" according to the documentation.")]),e._v(" "),t("li",[e._v("If you use the parameter "),t("code",[e._v("CAPTCHA")]),e._v(" of the directive "),t("code",[e._v("waf_cc_deny")]),e._v(", you should use the directive "),t("code",[e._v("waf_action")]),e._v(" instead, according to the documentation.")])]),e._v(" "),t("h2",{attrs:{id:"upgrade-from-8-x-x-to-9-x-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-from-8-x-x-to-9-x-x"}},[e._v("#")]),e._v(" Upgrade from "),t("code",[e._v("8.x.x")]),e._v(" to "),t("code",[e._v("9.x.x")])]),e._v(" "),t("ol",[t("li",[e._v("Install the dynamic libraries and headers for "),t("a",{attrs:{href:"https://github.com/SpiderLabs/ModSecurity",target:"_blank",rel:"noopener noreferrer"}},[e._v("libmodsecurity"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[e._v("Run the command "),t("code",[e._v("git clone -b v2.3.0 https://github.com/troydhanson/uthash.git lib/uthash")]),e._v(" in the root of the project.")]),e._v(" "),t("li",[e._v("Remove some parameters from the command "),t("code",[e._v("waf_mode")]),e._v(", if you are using them.\n"),t("ul",[t("li",[e._v("LIBINJECTION")]),e._v(" "),t("li",[e._v("LIBINJECTION-SQLI")]),e._v(" "),t("li",[e._v("LIBINJECTION-XSS")]),e._v(" "),t("li",[e._v("ADV")])])]),e._v(" "),t("li",[e._v("Delete the file "),t("code",[e._v("advanced")]),e._v(" for advanced rules. 5.")]),e._v(" "),t("li",[e._v("The parameter "),t("code",[e._v("ADV")]),e._v(" of the directive "),t("code",[e._v("waf_priority")]),e._v(" is removed, please delete it if you use this parameter.")]),e._v(" "),t("li",[e._v("A new parameter "),t("code",[e._v("MODSECURITY")]),e._v(" has been added to the directive "),t("code",[e._v("waf_priority")]),e._v(". If you use this directive, please fill in the parameter in the appropriate place.")])]),e._v(" "),t("h2",{attrs:{id:"upgrade-from-7-x-x-to-8-x-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-from-7-x-x-to-8-x-x"}},[e._v("#")]),e._v(" Upgrade from "),t("code",[e._v("7.x.x")]),e._v(" to "),t("code",[e._v("8.x.x")])]),e._v(" "),t("ol",[t("li",[e._v("Install the dynamic libraries and headers for "),t("code",[e._v("libcurl")]),e._v(".")]),e._v(" "),t("li",[e._v("Run the command "),t("code",[e._v("git clone https://github.com/DaveGamble/cJSON.git lib/cjson")]),e._v(" in the root of the project.")]),e._v(" "),t("li",[e._v("Run the command "),t("code",[e._v("git clone https://github.com/libinjection/libinjection.git lib/libinjection")]),e._v(" at the root of the project.")]),e._v(" "),t("li",[e._v("If you used the directive "),t("code",[e._v("waf_mode")]),e._v(" and used the directive's parameters "),t("code",[e._v("CC")]),e._v(" or "),t("code",[e._v("CACHE")]),e._v(", remove both parameters. The function of each of these two parameters has been moved into the directive "),t("code",[e._v("waf_cc_deny")]),e._v(" and "),t("code",[e._v("waf_cache")]),e._v(" respectively.")]),e._v(" "),t("li",[e._v("If you want to enable CC protection, change the parameter of the directive "),t("code",[e._v("waf_cc_deny")]),e._v(", for example, change "),t("code",[e._v("waf_cc_deny rate=2000r/m duration=1h")]),e._v(" to "),t("code",[e._v("waf_cc_deny on rate=2000r/m duration=1h")]),e._v(".")]),e._v(" "),t("li",[e._v("If you want to enable caching, change the parameter of the directive "),t("code",[e._v("waf_cache")]),e._v(", for example, change "),t("code",[e._v("waf_cache capacity=50")]),e._v(" to "),t("code",[e._v("waf_cache on capacity=50")]),e._v(".")]),e._v(" "),t("li",[e._v("If you use the directives "),t("code",[e._v("waf_cc_deny")]),e._v(" or "),t("code",[e._v("waf_cache")]),e._v(" in the "),t("code",[e._v("http")]),e._v(" context, move these two directives to a lower context, such as to the "),t("code",[e._v("server")]),e._v(" context.")]),e._v(" "),t("li",[e._v("If you use the directive "),t("code",[e._v("waf_cache")]),e._v(" and use the directive's parameters "),t("code",[e._v("interval")]),e._v(" or "),t("code",[e._v("percent")]),e._v(", remove these two parameters, which have been removed.")]),e._v(" "),t("li",[e._v("If you use the directive "),t("code",[e._v("waf_priority")]),e._v(", add "),t("code",[e._v("VERIFY-BOT")]),e._v(" and "),t("code",[e._v("CAPTCHA")]),e._v(" to it.")])]),e._v(" "),t("h2",{attrs:{id:"upgrade-from-6-x-x-to-7-x-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-from-6-x-x-to-7-x-x"}},[e._v("#")]),e._v(" Upgrade from "),t("code",[e._v("6.x.x")]),e._v(" to "),t("code",[e._v("7.x.x")])]),e._v(" "),t("ol",[t("li",[e._v("If you use the directive "),t("code",[e._v("waf_cc_deny")]),e._v(" in the "),t("code",[e._v("http")]),e._v(" block, move this directive to a more internal level.")])]),e._v(" "),t("h2",{attrs:{id:"upgrade-from-5-x-x-to-6-x-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-from-5-x-x-to-6-x-x"}},[e._v("#")]),e._v(" Upgrade from "),t("code",[e._v("5.x.x")]),e._v(" to "),t("code",[e._v("6.x.x")])]),e._v(" "),t("ol",[t("li",[e._v("Create a new empty file named "),t("code",[e._v("advanced")]),e._v(" in the rules directory.")]),e._v(" "),t("li",[e._v("If the directive "),t("code",[e._v("waf_priority")]),e._v(" is used, you can delete it or modify it according to the directive in the documentation.")])])])}),[],!1,null,null,null);t.default=v.exports}}]);