(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{361:function(e,t,a){"use strict";a.r(t);var r=a(25),i=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"change-log-5-x-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#change-log-5-x-x"}},[e._v("#")]),e._v(" Change Log (5.x.x)")]),e._v(" "),t("p",[e._v("The format is based on "),t("a",{attrs:{href:"https://keepachangelog.com/en/1.0.0/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keep a Changelog"),t("OutboundLink")],1),e._v(",\nand this project adheres to "),t("a",{attrs:{href:"https://semver.org/spec/v2.0.0.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Semantic Versioning"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("What is a breaking change?")]),e._v(" "),t("ul",[t("li",[e._v("The original configuration file may not work, for example, if a directive item is removed or renamed.")]),e._v(" "),t("li",[e._v("It may be necessary to update the build environment, such as installing new dependencies.")])])]),e._v(" "),t("h2",{attrs:{id:"_5-5-1-2021-07-16-utc-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-1-2021-07-16-utc-0800"}},[e._v("#")]),e._v(" [5.5.1] - 2021-07-16 UTC+0800")]),e._v(" "),t("h3",{attrs:{id:"fixed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Segmentation fault.")])]),e._v(" "),t("li",[t("p",[e._v("Memory leak.")])])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-5-0-2021-06-25-utc-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-0-2021-06-25-utc-0800"}},[e._v("#")]),e._v(" [5.5.0] - 2021-06-25 UTC+0800")]),e._v(" "),t("h3",{attrs:{id:"changed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changed"}},[e._v("#")]),e._v(" Changed")]),e._v(" "),t("ul",[t("li",[e._v("Because of high false positives, "),t("a",{attrs:{href:"https://github.com/libinjection/libinjection",target:"_blank",rel:"noopener noreferrer"}},[e._v("libinjection"),t("OutboundLink")],1),e._v("-based XSS attack detection has been disabled in working modes "),t("code",[e._v("STD")]),e._v(" and "),t("code",[e._v("DYNAMIC")]),e._v(".")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-4-2-2021-06-15-utc-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-2-2021-06-15-utc-0800"}},[e._v("#")]),e._v(" [5.4.2] - 2021-06-15 UTC+0800")]),e._v(" "),t("h3",{attrs:{id:"fixed-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed-2"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[e._v("When POST inspection is enabled, POST requests are not logged in the access log.")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-4-1-2021-06-09-utc-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-1-2021-06-09-utc-0800"}},[e._v("#")]),e._v(" [5.4.1] - 2021-06-09 UTC+0800")]),e._v(" "),t("h3",{attrs:{id:"fixed-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed-3"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[e._v("The value of built-in variables may be wrong when the directive "),t("code",[e._v("error_page")]),e._v(" is used.")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-4-0-2021-06-03-utc-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-0-2021-06-03-utc-0800"}},[e._v("#")]),e._v(" [5.4.0] - 2021-06-03 UTC+0800")]),e._v(" "),t("h3",{attrs:{id:"note"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#note"}},[e._v("#")]),e._v(" "),t("strong",[e._v("NOTE")])]),e._v(" "),t("p",[t("strong",[e._v("The clone link for "),t("code",[e._v("libinjection")]),e._v(" has been replaced in this release. The new link is "),t("a",{attrs:{href:"https://github.com/libinjection/libinjection.git",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/libinjection/libinjection.git"),t("OutboundLink")],1),e._v(".")])]),e._v(" "),t("h3",{attrs:{id:"added"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#added"}},[e._v("#")]),e._v(" Added")]),e._v(" "),t("ul",[t("li",[e._v("Anti XSS (powered by "),t("a",{attrs:{href:"https://github.com/libinjection/libinjection",target:"_blank",rel:"noopener noreferrer"}},[e._v("libinjection"),t("OutboundLink")],1),e._v(").")])]),e._v(" "),t("h3",{attrs:{id:"changed-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changed-2"}},[e._v("#")]),e._v(" Changed")]),e._v(" "),t("ul",[t("li",[e._v("Add debug log related to built-in variable calculation.")])]),e._v(" "),t("h3",{attrs:{id:"fixed-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed-4"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[e._v("POST inspection is not working.")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-3-2-2021-05-28-utc-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-2-2021-05-28-utc-0800"}},[e._v("#")]),e._v(" [5.3.2] - 2021-05-28 UTC+0800")]),e._v(" "),t("h3",{attrs:{id:"fixed-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed-5"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[e._v("Memory corruption.")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-3-1-2021-05-26-gmt-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-1-2021-05-26-gmt-0800"}},[e._v("#")]),e._v(" [5.3.1] - 2021-05-26 GMT+0800")]),e._v(" "),t("h3",{attrs:{id:"fixed-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed-6"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[e._v("Sometimes the module does not compile even if the dependencies are installed correctly.")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-3-0-2021-05-16-gmt-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-0-2021-05-16-gmt-0800"}},[e._v("#")]),e._v(" [5.3.0] - 2021-05-16 GMT+0800")]),e._v(" "),t("h3",{attrs:{id:"added-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#added-2"}},[e._v("#")]),e._v(" Added")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("New directive: "),t("code",[e._v("waf_under_attack")]),e._v(", which can be used when the site is under attack.")])]),e._v(" "),t("li",[t("p",[e._v("New directive: "),t("code",[e._v("waf_http_status")]),e._v(", which sets the HTTP status code returned when a request is blocked.")])]),e._v(" "),t("li",[t("p",[e._v("New built-in variable: "),t("code",[e._v("$waf_blocking_log")]),e._v(", not an empty string when the request is blocked for its value.")])])]),e._v(" "),t("h3",{attrs:{id:"changed-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changed-3"}},[e._v("#")]),e._v(" Changed")]),e._v(" "),t("ul",[t("li",[e._v("Update default rules.")])]),e._v(" "),t("h3",{attrs:{id:"fixed-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed-7"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("CC protection sometimes not work.")])]),e._v(" "),t("li",[t("p",[e._v("Cookie inspection sometimes not work.")])])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-1-2-2021-04-30-gmt-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-2-2021-04-30-gmt-0800"}},[e._v("#")]),e._v(" [5.1.2] - 2021-04-30 GMT+0800")]),e._v(" "),t("h3",{attrs:{id:"added-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#added-3"}},[e._v("#")]),e._v(" Added")]),e._v(" "),t("ul",[t("li",[e._v("Support for detecting SQL injection (powered by "),t("a",{attrs:{href:"https://github.com/libinjection/libinjection",target:"_blank",rel:"noopener noreferrer"}},[e._v("libinjection"),t("OutboundLink")],1),e._v("). This feature can be enabled by enabling the mode "),t("code",[e._v("LIB-INJECTION")]),e._v(", see the documentation for details.")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-1-1-2021-04-23-gmt-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-1-2021-04-23-gmt-0800"}},[e._v("#")]),e._v(" [5.1.1] - 2021-04-23 GMT+0800")]),e._v(" "),t("h3",{attrs:{id:"fixed-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed-8"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[e._v("URL and Referer whitelist are not working.")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-1-0-2021-04-20-gmt-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-0-2021-04-20-gmt-0800"}},[e._v("#")]),e._v(" [5.1.0] - 2021-04-20 GMT+0800")]),e._v(" "),t("h3",{attrs:{id:"added-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#added-4"}},[e._v("#")]),e._v(" Added")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("New built-in variable "),t("code",[e._v("waf_log")]),e._v(", which is not an empty string when this module has performed a inspection, but an empty string otherwise, mainly used in the directive "),t("code",[e._v("access_log")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("New built-in variable "),t("code",[e._v("waf_spend")]),e._v(", which records the time (in milliseconds) taken by this module to perform the inspection.")])])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_5-0-0-2021-04-07-gmt-0800"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-0-0-2021-04-07-gmt-0800"}},[e._v("#")]),e._v(" [5.0.0] - 2021-04-07 GMT+0800")]),e._v(" "),t("h3",{attrs:{id:"warning"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#warning"}},[e._v("#")]),e._v(" "),t("strong",[e._v("WARNING")])]),e._v(" "),t("p",[t("strong",[e._v("This version contains breaking changes.")])]),e._v(" "),t("h3",{attrs:{id:"added-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#added-5"}},[e._v("#")]),e._v(" Added")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("A new mode "),t("code",[e._v("CACHE")]),e._v(" has been added, enabling this mode will cache the results of each inspection to improve performance.")])]),e._v(" "),t("li",[t("p",[e._v("New configuration "),t("code",[e._v("waf_cache")]),e._v(" has been added to set parameters related to cache.")])]),e._v(" "),t("li",[t("p",[e._v("Added directive "),t("code",[e._v("waf_cc_deny")]),e._v(" to set CC protection related parameters.")])]),e._v(" "),t("li",[t("p",[e._v("New directive "),t("code",[e._v("waf_priority")]),e._v(" has been added to set the priority of all checks except for POST checks.")])]),e._v(" "),t("li",[t("p",[e._v("The "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After",target:"_blank",rel:"noopener noreferrer"}},[e._v("Retry-Afte"),t("OutboundLink")],1),e._v(" response header is appended when the CC protection returns a 503 status code.")])])]),e._v(" "),t("h3",{attrs:{id:"removed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#removed"}},[e._v("#")]),e._v(" Removed")]),e._v(" "),t("ul",[t("li",[e._v("The directive "),t("code",[e._v("waf_cc_deny_limit")]),e._v(" is deprecated and replaced with the new directive "),t("code",[e._v("waf_cc_deny")]),e._v(".")])]),e._v(" "),t("h3",{attrs:{id:"changed-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changed-4"}},[e._v("#")]),e._v(" Changed")]),e._v(" "),t("ul",[t("li",[e._v("Swaps the default priority of CC protection and IP whitelist inspection.")])]),e._v(" "),t("h3",{attrs:{id:"fixed-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fixed-9"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Fixed a segmentation fault when the number of worker processes is greater than one.")])]),e._v(" "),t("li",[t("p",[e._v("Fixed a bug where CC protection statistics were sometimes inaccurate.")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);