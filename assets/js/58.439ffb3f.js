(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{387:function(e,v,t){"use strict";t.r(v);var r=t(25),_=Object(r.a)({},(function(){var e=this,v=e._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"规则说明"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#规则说明"}},[e._v("#")]),e._v(" 规则说明")]),e._v(" "),v("p",[e._v("本模块使用下列几种配置文件，所有的配置文件必须在同一目录下并保证 nginx 对其有读取权限。")]),e._v(" "),v("ul",[v("li",[e._v("IP 白名单，文件名为 "),v("code",[e._v("white-ipv4")]),e._v(" 和 "),v("code",[e._v("white-ipv6")]),e._v("。")]),e._v(" "),v("li",[e._v("IP 黑名单，文件名为 "),v("code",[e._v("ipv4")]),e._v(" 和 "),v("code",[e._v("ipv6")]),e._v("。")]),e._v(" "),v("li",[e._v("Url 白名单，文件名为 "),v("code",[e._v("white-url")]),e._v("。")]),e._v(" "),v("li",[e._v("Url 黑名单，文件名为 "),v("code",[e._v("url")]),e._v("。")]),e._v(" "),v("li",[e._v("Get 参数黑名单，文件名为 "),v("code",[e._v("args")]),e._v("。")]),e._v(" "),v("li",[e._v("Post 请求体黑名单，文件名为 "),v("code",[e._v("post")]),e._v("。")]),e._v(" "),v("li",[e._v("UserAgent 黑名单，文件名为 "),v("code",[e._v("user-agent")]),e._v("。")]),e._v(" "),v("li",[e._v("Cookie 黑名单，文件名为 "),v("code",[e._v("cookie")]),e._v("。")]),e._v(" "),v("li",[e._v("Referer 白名单，文件名为 "),v("code",[e._v("white-referer")]),e._v("。")]),e._v(" "),v("li",[e._v("Referer 黑名单，文件名为 "),v("code",[e._v("referer")]),e._v("。")])]),e._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),v("p",[e._v("有些规则文件需要书写正则表达式，书写时每行一个正则表达式，\n正则表达式遵循 "),v("a",{attrs:{href:"http://www.pcre.org/current/doc/html/pcre2syntax.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PCRE 标准"),v("OutboundLink")],1),e._v("。")])]),e._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),v("p",[e._v("高级规则仅在开发版中可用。")])]),e._v(" "),v("h2",{attrs:{id:"ip白名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ip白名单"}},[e._v("#")]),e._v(" ip白名单")]),e._v(" "),v("p",[e._v("ip 白名单包括下面两个文件。")]),e._v(" "),v("ul",[v("li",[e._v("ipv4 白名单，文件名为 "),v("code",[e._v("white-ipv4")]),e._v("。")]),e._v(" "),v("li",[e._v("ipv6 白名单，文件名为 "),v("code",[e._v("white-ipv6")]),e._v("。")])]),e._v(" "),v("p",[e._v("书写时一行指定一个 IP 地址或者 IP 地址块。ipv4 地址必须使用「点分十进制表示法」，\nipv6 地址必须使用 「冒号十六进制表示法」。下面举一些例子。")]),e._v(" "),v("p",[e._v("指定单个 ipv4 地址。")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("192.168.2.1\n")])])]),v("p",[e._v("指定一个 ipv4 地址块。")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("192.168.2.0/24\n")])])]),v("p",[e._v("指定单个 ipv6 地址。")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("FE80::1000\n")])])]),v("p",[e._v("指定一个 ipv6 地址块。")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("FE80::/10\n")])])]),v("h2",{attrs:{id:"ip黑名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ip黑名单"}},[e._v("#")]),e._v(" IP黑名单")]),e._v(" "),v("p",[e._v("IP 黑名单包括下面两个文件。")]),e._v(" "),v("ul",[v("li",[e._v("ipv4 黑名单，文件名为 "),v("code",[e._v("ipv4")]),e._v("。")]),e._v(" "),v("li",[e._v("ipv6 黑名单，文件名为 "),v("code",[e._v("ipv6")]),e._v("。")])]),e._v(" "),v("p",[e._v("写法同 "),v("a",{attrs:{href:"#ip%E7%99%BD%E5%90%8D%E5%8D%95"}},[e._v("ip 白名单")]),e._v("。")]),e._v(" "),v("h2",{attrs:{id:"url白名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#url白名单"}},[e._v("#")]),e._v(" url白名单")]),e._v(" "),v("p",[e._v("Url 白名单的文件名为 "),v("code",[e._v("white-url")]),e._v("，书写规则时每行指定一个正则表达式，\nUrl 被任何一个正则表达式匹配到就会直接放行，不进行后续的检查。")]),e._v(" "),v("h2",{attrs:{id:"url黑名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#url黑名单"}},[e._v("#")]),e._v(" url黑名单")]),e._v(" "),v("p",[e._v("Url 黑名单的文件名为 "),v("code",[e._v("url")]),e._v("，书写规则时每行指定一个正则表达式，\nUrl 被任何一个正则表达式匹配到就会被拦截，返回 403 状态码。")]),e._v(" "),v("h2",{attrs:{id:"get参数黑名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#get参数黑名单"}},[e._v("#")]),e._v(" get参数黑名单")]),e._v(" "),v("p",[e._v("Get 参数黑名单的文件名为 "),v("code",[e._v("args")]),e._v("，书写规则时每行指定一个正则表达式，\nGet 参数被任何一个正则表达式匹配到就会被拦截，返回 403 状态码。")]),e._v(" "),v("h2",{attrs:{id:"post请求体黑名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#post请求体黑名单"}},[e._v("#")]),e._v(" post请求体黑名单")]),e._v(" "),v("p",[e._v("Post 请求体黑名单的文件名为 "),v("code",[e._v("post")]),e._v("，书写规则时每行指定一个正则表达式，\nPost 请求体内的内容被任何一个正则表达式匹配到就会被拦截，返回 403 状态码。")]),e._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[e._v("警告")]),e._v(" "),v("p",[e._v("有时本模块不会执行 Post 请求体检查，详见"),v("RouterLink",{attrs:{to:"/zh-cn/guide/faq.html#post检测失效"}},[e._v("常见问题与解答")]),e._v("。")],1)]),e._v(" "),v("h2",{attrs:{id:"user-agent黑名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#user-agent黑名单"}},[e._v("#")]),e._v(" user-agent黑名单")]),e._v(" "),v("p",[e._v("UserAgent 黑名单的文件名为 "),v("code",[e._v("user-agent")]),e._v("，书写规则时每行指定一个正则表达式，\nUserAgent 被任何一个正则表达式匹配到就会被拦截，返回 403 状态码。")]),e._v(" "),v("h2",{attrs:{id:"cookie黑名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#cookie黑名单"}},[e._v("#")]),e._v(" cookie黑名单")]),e._v(" "),v("p",[e._v("Cookie 黑名单的文件名为 "),v("code",[e._v("cookie")]),e._v("，书写规则时每行指定一个正则表达式，\nCookie 被任何一个正则表达式匹配到就会被拦截，返回 403 状态码。")]),e._v(" "),v("h2",{attrs:{id:"referer白名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#referer白名单"}},[e._v("#")]),e._v(" referer白名单")]),e._v(" "),v("p",[e._v("Referer 白名单的文件名为 "),v("code",[e._v("white-referer")]),e._v("，书写规则时每行指定一个正则表达式，\nReferer 被任何一个正则表达式匹配到就会直接放行，不进行后续的检查。")]),e._v(" "),v("h2",{attrs:{id:"referer黑名单"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#referer黑名单"}},[e._v("#")]),e._v(" referer黑名单")]),e._v(" "),v("p",[e._v("Referer 黑名单的文件名为 "),v("code",[e._v("referer")]),e._v("，书写规则时每行指定一个正则表达式，\nReferer 被任何一个正则表达式匹配到就会被拦截，返回 403 状态码。")])])}),[],!1,null,null,null);v.default=_.exports}}]);