(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{400:function(t,e,r){"use strict";r.r(e);var n=r(25),a=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),e("p",[t._v("方便又高性能的 Nginx 防火墙模块。")]),t._v(" "),e("h2",{attrs:{id:"为什么选择-ngx-waf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么选择-ngx-waf"}},[t._v("#")]),t._v(" 为什么选择 ngx_waf")]),t._v(" "),e("ul",[e("li",[t._v("基础防护：如 IP 或 IP 网段的黑白名单、URI 黑白名单和请求体黑名单等。")]),t._v(" "),e("li",[t._v("使用简单：配置文件和规则文件书写简单，可读性强。")]),t._v(" "),e("li",[t._v("高性能：使用高效的 IP 检查算法和缓存机制。")]),t._v(" "),e("li",[t._v("高级防护：兼容 "),e("a",{attrs:{href:"https://github.com/SpiderLabs/ModSecurity",target:"_blank",rel:"noopener noreferrer"}},[t._v("ModSecurity"),e("OutboundLink")],1),t._v("，因此你可以使用"),e("a",{attrs:{href:"https://owasp.org/www-project-modsecurity-core-rule-set/",target:"_blank",rel:"noopener noreferrer"}},[t._v("开放式网络应用安全项目（OWASP）® 的核心规则库"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("li",[t._v("友好爬虫验证：支持验证 Google、Bing、Baidu 和 Yandex 的爬虫并自动放行，避免错误拦截。")]),t._v(" "),e("li",[t._v("验证码：支持三种验证码：hCaptcha、reCAPTCHAv2 和 reCAPTCHAv3。")])]),t._v(" "),e("h2",{attrs:{id:"功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能"}},[t._v("#")]),t._v(" 功能")]),t._v(" "),e("ul",[e("li",[t._v("兼容 "),e("a",{attrs:{href:"https://github.com/SpiderLabs/ModSecurity",target:"_blank",rel:"noopener noreferrer"}},[t._v("ModSecurity"),e("OutboundLink")],1),t._v("。此功能仅限最新的 Current 版本。")]),t._v(" "),e("li",[t._v("SQL 注入防护（Powered By "),e("a",{attrs:{href:"https://github.com/libinjection/libinjection",target:"_blank",rel:"noopener noreferrer"}},[t._v("libinjection"),e("OutboundLink")],1),t._v("）。")]),t._v(" "),e("li",[t._v("XSS 攻击防护（Powered By "),e("a",{attrs:{href:"https://github.com/libinjection/libinjection",target:"_blank",rel:"noopener noreferrer"}},[t._v("libinjection"),e("OutboundLink")],1),t._v("）。")]),t._v(" "),e("li",[t._v("支持 IPV4 和 IPV6。")]),t._v(" "),e("li",[t._v("支持开启验证码（CAPTCHA)，支持 "),e("a",{attrs:{href:"https://www.hcaptcha.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("hCaptcha"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://developers.google.com/recaptcha",target:"_blank",rel:"noopener noreferrer"}},[t._v("reCAPTCHAv2"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://developers.google.com/recaptcha",target:"_blank",rel:"noopener noreferrer"}},[t._v("reCAPTCHAv3"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("li",[t._v("支持识别友好爬虫（如 BaiduSpider）并自动放行（基于 User-Agent 和 IP 的识别）。此功能仅限最新的 Current 版本。")]),t._v(" "),e("li",[t._v("CC 防御，超出限制后自动拉黑对应 IP 一段时间或者使用验证码做人机识别。")]),t._v(" "),e("li",[t._v("IP 黑白名单，同时支持类似 "),e("code",[t._v("192.168.0.0/16")]),t._v(" 和 "),e("code",[t._v("fe80::/10")]),t._v("，即支持点分十进制和冒号十六进制表示法和网段划分。")]),t._v(" "),e("li",[t._v("POST 黑名单。")]),t._v(" "),e("li",[t._v("URL 黑白名单")]),t._v(" "),e("li",[t._v("查询字符串（Query String）黑名单。")]),t._v(" "),e("li",[t._v("UserAgent 黑名单。")]),t._v(" "),e("li",[t._v("Cookie 黑名单。")]),t._v(" "),e("li",[t._v("Referer 黑白名单。")])]),t._v(" "),e("h2",{attrs:{id:"联系方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#联系方式"}},[t._v("#")]),t._v(" 联系方式")]),t._v(" "),e("ul",[e("li",[t._v("Telegram 频道: "),e("a",{attrs:{href:"https://t.me/ngx_waf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.me/ngx_waf"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("Telegram 群组（英文）: "),e("a",{attrs:{href:"https://t.me/group_ngx_waf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.me/group_ngx_waf"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("Telegram 群主（中文）："),e("a",{attrs:{href:"https://t.me/group_ngx_waf_cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.me/group_ngx_waf_cn"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"打赏"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打赏"}},[t._v("#")]),t._v(" 打赏")]),t._v(" "),e("p",[t._v("打赏就算了，如果您愿意，您可以帮助宣传一下本项目。比如发个贴，推荐给身边有需求的人什么的。")]),t._v(" "),e("p",[e("del",[t._v("我从来没碰过钱，我对钱没有兴趣。")])]),t._v(" "),e("h2",{attrs:{id:"测试套件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试套件"}},[t._v("#")]),t._v(" 测试套件")]),t._v(" "),e("p",[t._v("本项目使用一个 Perl 开发的数据驱动型的测试套件进行测试。\n感谢项目 "),e("a",{attrs:{href:"http://search.cpan.org/perldoc?Test::Nginx",target:"_blank",rel:"noopener noreferrer"}},[t._v("Test::Nginx"),e("OutboundLink")],1),t._v(" 及其开发者们。")]),t._v(" "),e("p",[t._v("你可以通过下列命令来运行测试。")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这行命令的执行时间比较长，但是以后再测试的时候就不需要运行了。")]),t._v("\ncpan Test::Nginx\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 你需要指定一个临时目录。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果目录不存在会自动创建。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果目录已经会被存在则会先**删除**再创建。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MODULE_TEST_PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/path/to/temp/dir\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果你安装了动态模块则需要指定动态模块的绝对路径，反之则无需执行这行命令。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MODULE_PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/path/to/ngx_http_waf_module.so\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ./test/test-nginx\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./init.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./start.sh ./t/*.t\n")])])]),e("h2",{attrs:{id:"性能测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#性能测试"}},[t._v("#")]),t._v(" 性能测试")]),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/zh-cn/guide/test.html#性能测试"}},[t._v("性能测试")])],1),t._v(" "),e("h2",{attrs:{id:"闲谈"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#闲谈"}},[t._v("#")]),t._v(" 闲谈")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.addesp.com/archives/2876",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx 防火墙模块开发总结"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("欢迎访问我的博客："),e("a",{attrs:{href:"https://www.addesp.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.addesp.com/"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"感谢"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#感谢"}},[t._v("#")]),t._v(" 感谢")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/SpiderLabs/ModSecurity",target:"_blank",rel:"noopener noreferrer"}},[t._v("ModSecurity"),e("OutboundLink")],1),t._v("：开源且跨平台的 WAF 引擎。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/troydhanson/uthash",target:"_blank",rel:"noopener noreferrer"}},[t._v("uthash"),e("OutboundLink")],1),t._v("：C 语言的哈希表、数组、链表等容器库。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://curl.se/libcurl/",target:"_blank",rel:"noopener noreferrer"}},[t._v("libcurl"),e("OutboundLink")],1),t._v("：支持多种协议文件传输库。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/DaveGamble/cJSON",target:"_blank",rel:"noopener noreferrer"}},[t._v("cJSON"),e("OutboundLink")],1),t._v("：C 语言的轻量级 JSON 解析库。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/libinjection/libinjection",target:"_blank",rel:"noopener noreferrer"}},[t._v("libinjection"),e("OutboundLink")],1),t._v("：SQL 注入检测库。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/jedisct1/libsodium",target:"_blank",rel:"noopener noreferrer"}},[t._v("libsodium"),e("OutboundLink")],1),t._v("：C 语言密码函数库。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/openresty/test-nginx",target:"_blank",rel:"noopener noreferrer"}},[t._v("test-nginx"),e("OutboundLink")],1),t._v(": 数据驱动的 nginx 测试套件，可用于 nginx C 模块的开发和 OpenResty Lua 库的开发。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/dvershinin/lastversion",target:"_blank",rel:"noopener noreferrer"}},[t._v("lastversion"),e("OutboundLink")],1),t._v("：一个轻巧的命令行工具，帮助你下载或安装一个项目的特定版本。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/loveshell/ngx_lua_waf",target:"_blank",rel:"noopener noreferrer"}},[t._v("ngx_lua_waf"),e("OutboundLink")],1),t._v("：一个基于 lua-nginx-module (openresty) 的 web 应用防火墙。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/taobao/nginx-book",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx-book"),e("OutboundLink")],1),t._v("：Nginx开发从入门到精通")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/baishancloud/nginx-development-guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx-development-guide"),e("OutboundLink")],1),t._v("：Nginx 开发指南。")])])])}),[],!1,null,null,null);e.default=a.exports}}]);